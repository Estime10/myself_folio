@import "tailwindcss";

:root {
  /* Backgrounds - Palette noir gris cendre */
  --bg-primary-base: #0a0a0c;
  --bg-secondary-base: #141418;
  --bg-tertiary-base: #1c1c20;

  /* Backgrounds - Radial gradient (effet cendré sur un côté) */
  /* circle, centre en haut-droite (75% 25%), stops 0-50-100 */
  --bg-primary: radial-gradient(
    circle at 75% 25%,
    #2a2a2e 0%,
    #1a1a1e 50%,
    #0a0a0c 100%
  );
  --bg-secondary: radial-gradient(
    circle at 75% 25%,
    #222228 0%,
    #16161a 50%,
    #0e0e10 100%
  );
  --bg-tertiary: radial-gradient(
    circle at 75% 25%,
    #28282e 0%,
    #1c1c20 50%,
    #121214 100%
  );

  /* Textes - Solid colors */
  --text-primary: #e6e8ef;
  --text-secondary: #a1a6c3;
  --text-muted: #6f7390;

  /* Accents - RGBA for modern transparency */
  --accent-primary: rgba(255, 122, 24, 0.9);
  --accent-primary-hover: rgba(255, 122, 24, 1);
  --accent-danger: rgba(229, 72, 77, 0.9);
  --accent-danger-hover: rgba(229, 72, 77, 1);
  --accent-info: rgba(76, 111, 255, 0.9);
  --accent-info-hover: rgba(76, 111, 255, 1);
  --accent-purple: rgba(124, 111, 255, 0.9);
  --accent-purple-hover: rgba(124, 111, 255, 1);

  /* Body background (alias pour bg-primary) */
  --var-bg-body: var(--bg-primary-base);

  /* Fonts */
  --font-inter: var(--font-inter);
  --font-jetbrains-mono: var(--font-jetbrains-mono);

  /* Liquid Glass iOS - Variables */
  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-shadow: rgba(0, 0, 0, 0.3);
  --glass-blur: blur(20px) saturate(180%);

  /* Safe Area Insets - iOS notch & navigation */
  --safe-area-inset-top: env(safe-area-inset-top);
  --safe-area-inset-bottom: env(safe-area-inset-bottom);
  --safe-area-inset-left: env(safe-area-inset-left);
  --safe-area-inset-right: env(safe-area-inset-right);
}

@theme inline {
  /* Breakpoints - Mobile First */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;

  /* Backgrounds - Solid fallback for Tailwind */
  --color-bg-primary: var(--bg-primary-base);
  --color-bg-secondary: var(--bg-secondary-base);
  --color-bg-tertiary: var(--bg-tertiary-base);
  --color-bg-body: var(--var-bg-body);

  /* Textes */
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);

  /* Accents - RGBA */
  --color-accent-primary: var(--accent-primary);
  --color-accent-danger: var(--accent-danger);
  --color-accent-info: var(--accent-info);
  --color-accent-purple: var(--accent-purple);

  /* Fonts */
  --font-sans: var(--font-inter);
  --font-mono: var(--font-jetbrains-mono);
}

/* Reset uniquement pour les éléments par défaut, pas tous */
body,
h1,
h2,
h3,
h4,
h5,
h6,
p,
figure,
blockquote,
dl,
dd {
  margin: 0;
}

ul,
ol {
  margin: 0;
  padding: 0;
  list-style: none;
}

button {
  margin: 0;
}

/* CTA principal : référence unique taille + couleurs (hero, modale, nav mobile) */
.btn-cta,
.nav-link-mobile {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: 12rem; /* largeur fixe identique pour tous les boutons */
  height: 2.75rem;
  padding: 0 1.25rem;
  font-size: 1rem;
  font-weight: 700;
  line-height: 1.25;
  color: #fff;
  text-align: center;
  text-decoration: none;
  white-space: nowrap;
  border-radius: 0.5rem;
  background: var(--accent-primary);
  border: none;
  transition: opacity 0.2s ease;
}

.btn-cta:hover,
.nav-link-mobile--inactive:hover {
  opacity: 0.9;
}

@media (min-width: 1024px) {
  .btn-cta,
  .nav-link-mobile {
    font-size: 1.125rem;
  }
}

input,
select,
textarea {
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
}

body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family:
    var(--font-inter),
    system-ui,
    -apple-system,
    sans-serif;
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.5;
  min-height: 100vh;
  /* Safe Area Insets - iOS notch & navigation */
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
  padding-left: var(--safe-area-inset-left);
  padding-right: var(--safe-area-inset-right);
}

/* Hover uniquement sur les appareils qui supportent le hover (desktop) */
/* Sur mobile/tablette tactile, les effets hover sont désactivés automatiquement */
@media (hover: none) and (pointer: coarse) {
  /* Désactiver les transitions/transformations au hover sur tactile */
  *:hover {
    transform: none !important;
  }
}

/* Alternative: utiliser @media (hover: hover) pour cibler uniquement desktop */
/* Les classes avec hover:lg-* fonctionneront uniquement sur desktop */

/* Liquid Glass iOS - Utility classes */
.glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  box-shadow: 0 8px 32px 0 var(--glass-shadow);
}

.glass-strong {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(30px) saturate(180%);
  -webkit-backdrop-filter: blur(30px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
}

/* Menu mobile : blur plus marqué */
.glass-menu {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(48px) saturate(180%);
  -webkit-backdrop-filter: blur(48px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
}

.glass-subtle {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(10px) saturate(150%);
  -webkit-backdrop-filter: blur(10px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.2);
}

/* Utility classes pour safe-area */
.safe-area-top {
  padding-top: var(--safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: var(--safe-area-inset-bottom);
}

.safe-area-left {
  padding-left: var(--safe-area-inset-left);
}

.safe-area-right {
  padding-right: var(--safe-area-inset-right);
}

.safe-area-x {
  padding-left: var(--safe-area-inset-left);
  padding-right: var(--safe-area-inset-right);
}

.safe-area-y {
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
}

.safe-area {
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
  padding-left: var(--safe-area-inset-left);
  padding-right: var(--safe-area-inset-right);
}

/* Overlay (modale, menu mobile) */
.overlay {
  position: fixed;
  inset: 0;
  z-index: 40;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

/* Menu mobile : couvre toute la page, blur, au-dessus de tout */
.overlay--menu {
  z-index: 9999;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Typo modale contact */
.modal-text {
  font-size: 1rem;
  font-weight: 700;
}

@media (min-width: 1024px) {
  .modal-text {
    font-size: 1.875rem;
  }
}

/* Nav mobile : état actif = ring blanc pour distinguer la page courante */
.nav-link-mobile--active {
  box-shadow: 0 0 0 2px #fff;
}

/* Liens nav desktop */
.nav-links-desktop {
  display: flex;
  align-items: center;
  gap: 2.5rem;
}

@media (min-width: 1024px) {
  .nav-links-desktop {
    gap: 2rem;
  }
}

@media (min-width: 1280px) {
  .nav-links-desktop {
    gap: 3rem;
  }
}

.nav-link-desktop {
  flex-shrink: 0;
  font-size: 1.125rem;
  font-weight: 700;
}

.nav-link-desktop--active {
  color: var(--accent-primary);
}

.nav-link-desktop--inactive {
  transition: color 0.2s ease;
}

@media (min-width: 1024px) {
  .nav-link-desktop--inactive:hover {
    color: var(--accent-primary);
  }
}

/* Tags projet (taille texte) */
.tag-text {
  font-size: 11px;
}

/* Bouton globe (carte projet) */
.globe-button {
  position: absolute;
  display: flex;
  height: 1.75rem;
  width: 1.75rem;
  align-items: center;
  justify-content: center;
  border-radius: 9999px;
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.7);
}

.globe-button--disabled {
  border: 1px solid rgba(255, 255, 255, 0.2);
  background: var(--bg-tertiary-base);
  opacity: 0.7;
}

.globe-button--link {
  border: 1px solid rgba(255, 255, 255, 0.25);
  background: var(--bg-tertiary-base);
  transition: transform 0.3s ease;
}

.group:hover .globe-button--link {
  transform: scale(1.1);
}

/* Transition d'apparition du header après les animations de page */
.site-header {
  opacity: 1;
  transition:
    opacity 0.35s ease-out,
    background 0.25s ease,
    box-shadow 0.25s ease;
}

body.page-transition-active .site-header {
  opacity: 0;
}

/* Header au scroll de la page : plus sombre, z-index plus élevé */
body[data-header-scrolled] .site-header {
  z-index: 100;
  background: rgba(0, 0, 0, 0.88);
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4);
}

/* ----- Menu mobile ouvert : appliqué via data-menu-open sur body ----- */
body[data-menu-open],
body[data-menu-open] .layout-root {
  background: #000 !important;
}

/* ----- About overlay : fade in / fade out ----- */
@keyframes about-overlay-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes about-overlay-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.about-overlay {
  animation: about-overlay-fade-in 0.25s ease-out forwards;
}

.about-overlay.about-overlay--closing {
  animation: about-overlay-fade-out 0.25s ease-out forwards;
}

/* Barre verticale overlay mobile : épaisseur + origin (animation GSAP, même séquence que desktop) */
.about-overlay-bar {
  width: 2px; /* même épaisseur que desktop (w-0.5) */
  transform-origin: top;
}

/* ----- Cartes partagées (About overlay + Project cards) ----- */
.card-base {
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: color-mix(in srgb, var(--bg-tertiary-base) 60%, transparent);
  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(24px);
}

.card-header-gradient {
  background: linear-gradient(
    to bottom right,
    rgba(255, 255, 255, 0.08),
    rgba(255, 122, 24, 0.2),
    rgba(0, 0, 0, 0.6)
  );
}
